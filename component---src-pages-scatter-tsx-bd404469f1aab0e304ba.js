(self.webpackChunkmy_gatsby_site=self.webpackChunkmy_gatsby_site||[]).push([[19],{9421:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return T}});var a=r(7294),n=r(979),o=r(6690),i=n.ZP.div.withConfig({displayName:"scatterPlot__Container",componentId:"fj3n4b-0"})(["display:flex;flex-direction:column;align-items:center;margin:10px;"]),l=n.ZP.h3.withConfig({displayName:"scatterPlot__Title",componentId:"fj3n4b-1"})(["margin:0;"]),s=n.ZP.svg.withConfig({displayName:"scatterPlot__MapContainer",componentId:"fj3n4b-2"})(["height:330px;"]),p=function(t){return Number(String(t).slice(0,-3))};function c(t){var e=t.data,r=t.title,n=t.selectedState,c=t.labels,d=t.arrows,u=t.lines,m=380,y=[50,50],f=280,g=(0,a.useRef)(null);return(0,a.useEffect)((function(){var t=o.Ys(g.current),r=t.attr("width",m).attr("height",340).append("g").attr("scale",10).attr("transform","translate("+y[0]+", "+(y[1]-40)+")"),a=o.BYU().domain([0,52]).range([0,280]);r.append("g").attr("transform","translate(0,280)").call(o.LLu(a));var n=o.BYU().domain([0,52]).range([f,0]);r.append("g").call(o.y4O(n)),t.append("text").attr("text-anchor","end").attr("x",240).attr("y",325).text("Week Number"),t.append("text").attr("text-anchor","middle").attr("x",-150).attr("y",10).attr("dy","0.75em").attr("transform","rotate(-90)").text("Count");var i=function(t){return Object.values(t.map((function(t){var e=t.count(),r=e[0],a=e[1];return{x:r>a?t.recent()[0]:t.recent()[1],y:r>a?r:a,hot:r>a,fips:t.fips}})).reduce((function(t,e){var r=e.x,a=e.y,n=e.fips,o=e.hot,i=r+","+a;return i in t?(t[i].fips.push(n),t[i].hot.push(o)):t[i]={x:r,y:a,fips:[n],hot:[o]},t}),{}))}(e),l=o.jvg().x((function(t){var e=t.x;return a(e)})).y((function(t){var e=t.y;return n(e)}));r.selectAll("myLines").data(e.map((function(t){var e=t.count(),r=e[0],a=e[1];return{data:r>a?t.sequential(1):t.sequential(2),hot:r>a,fips:t.fips}}))).enter().append("path").attr("class","seq").attr("stroke","none").attr("fill","none").attr("stroke-width",1.5).attr("stroke-opacity",.15).attr("d",(function(t){return l(t.data)})),r.selectAll("dot").data(i).enter().append("circle").attr("class","point").attr("cx",(function(t){var e=t.x;return a(e)})).attr("cy",(function(t){var e=t.y;return n(e)})).attr("r",2),void 0!==c&&c.forEach((function(e){return e(t)})),void 0!==d&&d.forEach((function(e){return e(t)})),void 0!==u&&r.selectAll("divLines").data(u).enter().append("path").attr("stroke-width",2).attr("stroke-opacity",1).attr("stroke","black").attr("stroke-dasharray","1,1").attr("d",(function(t){return console.log(t),l(t)}))}),[]),(0,a.useEffect)((function(){var t=o.sY$,e=o.bc$;o.Ys(g.current).selectAll(".point").style("fill-opacity",(function(t){var e=t.fips;return-1===n[0]||void 0!==e.find((function(t){return p(t)===n[0]}))?1:.1})).style("fill",(function(r){var a,o,i=r.hot,l=r.fips.map((function(t){return-1===n[0]||p(t)===n[0]})),s=(a=l,i.filter((function(t,e){return a[e]}))),c=(o=s.length?s:i).reduce((function(t,e){return t+e}))/o.length;return c>.5?e(c):t(1-c)})),o.Ys(g.current).selectAll(".seq").style("stroke",(function(t){var e=t.fips,r=t.hot;return p(e)===n[0]?r?"#FF0000":"#0000FF":"none"}))}),[n]),a.createElement(i,null,a.createElement(l,null,r),a.createElement(s,{ref:g}))}var d=r(6169),u=n.ZP.div.withConfig({displayName:"scatterView__Container",componentId:"sc-11zvvca-0"})(["display:flex;flex-direction:row;flex-wrap:wrap;justify-content:center;"]);function m(t){var e=t.selectedState,r=(0,a.useContext)(d.z),n=r.mapData,o=r.mapTitles;return a.createElement(u,null,o.map((function(t,r){return a.createElement(c,{key:r,title:t,selectedState:e,data:n?n[r]:null})})))}var y=r(2650);function f(){var t=(0,a.useContext)(d.z),e=t.mapData,r=e[0],n=(e[1],e[2],e[3],t.mapTitles),o=n[0],i=(n[1],n[2],n[3],r.find((function(t){return 56029===t.fips}))),l=i.sequential(2).map((function(t){var e=t.x;return[{x:e,y:0},{x:e,y:t.y}]})).filter((function(t){var e=t[0].x;t[1];return[0,12,23,40,52].includes(e)}));return a.createElement(c,{title:o,data:[i],selectedState:[56,"Wyoming"],labels:[function(t){return t.append("text").attr("text-anchor","middle").attr("x",90).attr("y",270).attr("dy","0.75em").text("(1)")},function(t){return t.append("text").attr("text-anchor","middle").attr("x",145).attr("y",270).attr("dy","0.75em").text("(2)")},function(t){return t.append("text").attr("text-anchor","middle").attr("x",220).attr("y",270).attr("dy","0.75em").text("(3)")},function(t){return t.append("text").attr("text-anchor","middle").attr("x",300).attr("y",270).attr("dy","0.75em").text("(1)")}],lines:l})}function g(){var t=(0,a.useContext)(d.z),e=t.mapData,r=(e[0],e[1],e[2],e[3]),n=t.mapTitles,i=(n[0],n[1],n[2],n[3]),l=r.filter((function(t){var e=t.fips;return 6===Math.floor(e/1e3)}));return a.createElement(c,{title:i,data:l,selectedState:[6,"California"],labels:[function(t){return t.append("text").attr("text-anchor","middle").attr("x",130).attr("y",120).attr("dy","0.75em").text("Mar 4, State of")},function(t){return t.append("text").attr("text-anchor","middle").attr("x",130).attr("y",140).attr("dy","0.75em").text("Emergency Declared")}],arrows:[function(t){return t.append("path").attr("d",o.jvg()([[125,160],[105,275]])).attr("stroke","black").attr("fill","red")}]})}function h(){var t=(0,a.useContext)(d.z),e=t.mapData,r=(e[0],e[1]),n=(e[2],e[3],t.mapTitles),i=(n[0],n[1]),l=(n[2],n[3],r.filter((function(t){var e=t.fips;return 42===Math.floor(e/1e3)})));return a.createElement(c,{title:i,data:l,selectedState:[42,"Pennsylvania"],labels:[function(t){return t.append("text").attr("text-anchor","middle").attr("x",115).attr("y",180).attr("dy","0.75em").text("Social Distancing,")},function(t){return t.append("text").attr("text-anchor","middle").attr("x",115).attr("y",200).attr("dy","0.75em").text("Schools Close")},function(t){return t.append("text").attr("text-anchor","middle").attr("x",160).attr("y",80).attr("dy","0.75em").text("Counties enter")},function(t){return t.append("text").attr("text-anchor","middle").attr("x",160).attr("y",100).attr("dy","0.75em").text("Yellow Phase")},function(t){return t.append("text").attr("text-anchor","middle").attr("x",280).attr("y",30).attr("dy","0.75em").text("Stay-at-home")},function(t){return t.append("text").attr("text-anchor","middle").attr("x",280).attr("y",50).attr("dy","0.75em").text("advisory")}],arrows:[function(t){return t.append("path").attr("d",o.jvg()([[115,220],[115,275]])).attr("stroke","black").attr("fill","red")},function(t){return t.append("path").attr("d",o.jvg()([[160,120],[160,260]])).attr("stroke","black").attr("fill","red")},function(t){return t.append("path").attr("d",o.jvg()([[280,70],[300,240]])).attr("stroke","black").attr("fill","red")}]})}var x=r(1329),P=r(4863),v=r(5743),w=n.ZP.div.withConfig({displayName:"stateSelection__Container",componentId:"sc-11880xa-0"})(["display:flex;flex-direction:column;align-items:center;margin:10px;"]),b=(n.ZP.h3.withConfig({displayName:"stateSelection__Title",componentId:"sc-11880xa-1"})(["margin:0;"]),n.ZP.svg.withConfig({displayName:"stateSelection__MapContainer",componentId:"sc-11880xa-2"})(["g{background-color:light-gray;fill:red;}border:1px solid black;"]));function C(t){var e=t.highlightedState,r=t.stateSelector,n=t.addState,i=[190,125],l=(0,a.useRef)(null),s=o.FWi().scale(500).translate(i),p=o.l49().projection(s);return(0,a.useEffect)((function(){var t=o.Ys(l.current).attr("width",380).attr("height",250).append("g");n(new P.Z(p,t,380,250,e[0])),t.append("g").style("stroke","black").style("stroke-width","0.5px").style("fill","#ffffffff").selectAll("path").data(x.zL(v,v.objects.states).features).enter().append("path").attr("d",p).attr("stateFips",(function(t){var e=t.id;return Number(e)})).attr("stateName",(function(t){return t.properties.name}))}),[]),(0,a.useEffect)((function(){o.Ys(l.current).selectAll("path").on("click",(function(){r([Number(this.getAttribute("stateFips")),this.getAttribute("stateName")])})).style("fill",(function(){return Number(this.getAttribute("stateFips"))===e[0]?"rgb(0,54,96)":"#ffffffff"}))}),[e]),a.createElement(w,null,a.createElement(b,{ref:l}))}var k=r(7329),E=JSON.parse('{"P1":{"$":{"x":[{"type":"MultiPolygon","arcs":[[[0]],[[1,2,3,4,5]]],"id":"01","properties":{"name":"Alabama"}},{"type":"MultiPolygon","arcs":[[[6]],[[7]],[[8]],[[9]],[[10]],[[11]],[[12]],[[13]],[[14]],[[15]],[[16]],[[17]],[[18]],[[19]],[[20]],[[21]],[[22]],[[23]],[[24]],[[25]],[[26]],[[27]],[[28]],[[29]],[[30]],[[31]],[[32]],[[33]],[[34]],[[35]],[[36]],[[37]],[[38]],[[39]],[[40]],[[41]],[[42]],[[43]],[[44]],[[45]],[[46]],[[47]],[[48]],[[49]],[[50]],[[51]],[[52]],[[53]],[[54]],[[55]],[[56]],[[57]],[[58]],[[59]],[[60]],[[61]],[[62]],[[63]],[[64]],[[65]],[[66]],[[67]],[[68]],[[69]],[[70]],[[71]],[[72]],[[73]],[[74]],[[75]],[[76]],[[77]],[[78]],[[79]],[[80]],[[81]],[[82]],[[83]],[[84]],[[85]],[[86]],[[87]],[[88]],[[89]],[[90]],[[91]],[[92]],[[93]],[[94]],[[95]],[[96]],[[97]],[[98]],[[99]],[[100]],[[101]],[[102]],[[103]],[[104]],[[105]],[[106]],[[107]],[[108]],[[109]],[[110]],[[111]],[[112]],[[113]],[[114]],[[115]],[[116]],[[117]],[[118]],[[119]],[[120]],[[121]],[[122]],[[123]],[[124]],[[125]],[[126]],[[127]],[[128]],[[129]],[[130]],[[131]],[[132]],[[133]],[[134]],[[135]],[[136]],[[137]],[[138]],[[139]],[[140]],[[141]],[[142]]],"id":"02","properties":{"name":"Alaska"}},{"type":"Polygon","arcs":[[143,144,145,146,147]],"id":"04","properties":{"name":"Arizona"}},{"type":"Polygon","arcs":[[148,149,150,151,152,153]],"id":"08","properties":{"name":"Colorado"}},{"type":"MultiPolygon","arcs":[[[154]],[[155]],[[156]],[[157]],[[158]],[[159]],[[160]],[[161]],[[162]],[[163,164,-4]]],"id":"12","properties":{"name":"Florida"}},{"type":"Polygon","arcs":[[165,166,167,168,-164,-3]],"id":"13","properties":{"name":"Georgia"}},{"type":"Polygon","arcs":[[169,170,171,172,173]],"id":"18","properties":{"name":"Indiana"}},{"type":"Polygon","arcs":[[174,175,176,-151]],"id":"20","properties":{"name":"Kansas"}},{"type":"MultiPolygon","arcs":[[[177]],[[178]],[[179]],[[180]],[[181]],[[182]],[[183]],[[184,185]]],"id":"23","properties":{"name":"Maine"}},{"type":"MultiPolygon","arcs":[[[186]],[[187]],[[188,189,190,191,192,193,194,195]]],"id":"25","properties":{"name":"Massachusetts"}},{"type":"Polygon","arcs":[[196,197,198,199,200]],"id":"27","properties":{"name":"Minnesota"}},{"type":"Polygon","arcs":[[201,202,203,204,205,206,207,208]],"id":"34","properties":{"name":"New Jersey"}},{"type":"MultiPolygon","arcs":[[[209]],[[210]],[[211,212,213,-167,214]]],"id":"37","properties":{"name":"North Carolina"}},{"type":"Polygon","arcs":[[215,-201,216,217]],"id":"38","properties":{"name":"North Dakota"}},{"type":"Polygon","arcs":[[-152,-177,218,219,220,221]],"id":"40","properties":{"name":"Oklahoma"}},{"type":"Polygon","arcs":[[222,223,-204,224,225,226,227]],"id":"42","properties":{"name":"Pennsylvania"}},{"type":"Polygon","arcs":[[228,-217,-200,229,230,231]],"id":"46","properties":{"name":"South Dakota"}},{"type":"Polygon","arcs":[[-221,232,233,234,235,236,237]],"id":"48","properties":{"name":"Texas"}},{"type":"Polygon","arcs":[[-232,238,-149,239,240,241]],"id":"56","properties":{"name":"Wyoming"}},{"type":"Polygon","arcs":[[-195,242,243,244]],"id":"09","properties":{"name":"Connecticut"}},{"type":"Polygon","arcs":[[245,246,247,248,249,250,251,-219,-176,252]],"id":"29","properties":{"name":"Missouri"}},{"type":"Polygon","arcs":[[253,-227,254,255,256]],"id":"54","properties":{"name":"West Virginia"}},{"type":"Polygon","arcs":[[257,258,259,-174,260,-247]],"id":"17","properties":{"name":"Illinois"}},{"type":"Polygon","arcs":[[-153,-222,-238,261,-147]],"id":"35","properties":{"name":"New Mexico"}},{"type":"Polygon","arcs":[[-252,262,263,264,-235,233,-233,-220]],"id":"05","properties":{"name":"Arkansas"}},{"type":"MultiPolygon","arcs":[[[265]],[[266]],[[267]],[[268]],[[269]],[[270]],[[271]],[[272]],[[273,274,275,-144,276]]],"id":"06","properties":{"name":"California"}},{"type":"MultiPolygon","arcs":[[[-209,277]],[[-225,-203,278,279]]],"id":"10","properties":{"name":"Delaware"}},{"type":"Polygon","arcs":[[280,281]],"id":"11","properties":{"name":"District of Columbia"}},{"type":"MultiPolygon","arcs":[[[282]],[[283]],[[284]],[[285]],[[286]],[[287]],[[288]],[[289]]],"id":"15","properties":{"name":"Hawaii"}},{"type":"Polygon","arcs":[[-199,290,-258,-246,291,-230]],"id":"19","properties":{"name":"Iowa"}},{"type":"MultiPolygon","arcs":[[[-261,-173,292,-257,293,294,-248]],[[295,-250]]],"id":"21","properties":{"name":"Kentucky"}},{"type":"MultiPolygon","arcs":[[[296,297]],[[298]],[[299]],[[-226,-280,300,301,302,303,-281,304,-255]]],"id":"24","properties":{"name":"Maryland"}},{"type":"MultiPolygon","arcs":[[[305]],[[306]],[[307]],[[308]],[[309]],[[310]],[[311]],[[312]],[[313]],[[314,315,-171]],[[316]],[[317,318,319,320,321,322]]],"id":"26","properties":{"name":"Michigan"}},{"type":"MultiPolygon","arcs":[[[323]],[[324]],[[325]],[[326]],[[-264,327,-6,328,329]]],"id":"28","properties":{"name":"Mississippi"}},{"type":"Polygon","arcs":[[330,-218,-229,-242,331]],"id":"30","properties":{"name":"Montana"}},{"type":"Polygon","arcs":[[332,-185,333,-190,334]],"id":"33","properties":{"name":"New Hampshire"}},{"type":"MultiPolygon","arcs":[[[335]],[[336]],[[337]],[[338,-207]],[[339]],[[340]],[[341,342,-196,-245,343,-205,-224]]],"id":"36","properties":{"name":"New York"}},{"type":"MultiPolygon","arcs":[[[344]],[[345]],[[-316,346,-228,-254,-293,-172]]],"id":"39","properties":{"name":"Ohio"}},{"type":"Polygon","arcs":[[347,348,349,274,-275,-274,350]],"id":"41","properties":{"name":"Oregon"}},{"type":"Polygon","arcs":[[-251,-296,-249,-295,351,-215,-166,-2,-328,-263]],"id":"47","properties":{"name":"Tennessee"}},{"type":"Polygon","arcs":[[352,-240,-154,-146,353]],"id":"49","properties":{"name":"Utah"}},{"type":"MultiPolygon","arcs":[[[354]],[[-302,355]],[[356,-297]],[[-256,-305,-282,-304,357,-212,-352,-294]]],"id":"51","properties":{"name":"Virginia"}},{"type":"MultiPolygon","arcs":[[[358]],[[359]],[[360]],[[361]],[[362]],[[363]],[[364]],[[365]],[[366]],[[367]],[[368,-348,369]]],"id":"53","properties":{"name":"Washington"}},{"type":"MultiPolygon","arcs":[[[370]],[[371]],[[372]],[[373]],[[374]],[[375]],[[376]],[[377]],[[378]],[[379]],[[380,-323,321,-321,319,-319,381,-259,-291,-198]]],"id":"55","properties":{"name":"Wisconsin"}},{"type":"MultiPolygon","arcs":[[[382]],[[383]],[[384]]],"id":"60","properties":{"name":"American Samoa"}},{"type":"MultiPolygon","arcs":[[[385]]],"id":"66","properties":{"name":"Guam"}},{"type":"MultiPolygon","arcs":[[[386]],[[387]],[[388]],[[389]],[[390]],[[391]],[[392]],[[393]]],"id":"69","properties":{"name":"Commonwealth of the Northern Mariana Islands"}},{"type":"Polygon","arcs":[[-231,-292,-253,-175,-150,-239]],"id":"31","properties":{"name":"Nebraska"}},{"type":"Polygon","arcs":[[-214,394,-168]],"id":"45","properties":{"name":"South Carolina"}},{"type":"MultiPolygon","arcs":[[[395]],[[396]],[[397]],[[398]],[[399]]],"id":"72","properties":{"name":"Puerto Rico"}},{"type":"MultiPolygon","arcs":[[[400]],[[401]],[[402]]],"id":"78","properties":{"name":"United States Virgin Islands"}},{"type":"Polygon","arcs":[[-369,403,-332,-241,-353,404,-349]],"id":"16","properties":{"name":"Idaho"}},{"type":"Polygon","arcs":[[-275,-350,-405,-354,-145,-276]],"id":"32","properties":{"name":"Nevada"}},{"type":"Polygon","arcs":[[405,-335,-189,-343]],"id":"50","properties":{"name":"Vermont"}},{"type":"MultiPolygon","arcs":[[[406]],[[407]],[[408]],[[409]],[[410]],[[411]],[[412]],[[-265,-330,413,-236]]],"id":"22","properties":{"name":"Louisiana"}},{"type":"MultiPolygon","arcs":[[[-192,414]],[[415]],[[416]],[[417]],[[-243,-194,418]]],"id":"44","properties":{"name":"Rhode Island"}}]}}}'),S=n.ZP.div.withConfig({displayName:"dropdown__DropDownContainer",componentId:"ggqled-0"})(["width:400px;padding:10px;"]),M=n.ZP.div.withConfig({displayName:"dropdown__ButtonContainer",componentId:"ggqled-1"})(["display:flex;justify-content:space-around;align-items:center;"]),N=n.ZP.button.withConfig({displayName:"dropdown__Button",componentId:"ggqled-2"})(["border-radius:10px;height:30px;width:60px;"]);function _(t){var e=t.stateSelector,r=t.selectedState,n=[].concat((0,k.Z)(E.P1.$.x.filter((function(t){var e=t.properties.name;return!["Alaska","Hawaii","Guam","Puerto Rico","American Samoa","United States Virgin Islands","Commonwealth of the Northern Mariana Islands","District of Columbia"].includes(e)}))),[{id:-1,properties:{name:"United States"}}]).sort((function(t,e){return-1===t.id?-1:-1===e.id?1:t.properties.name.localeCompare(e.properties.name)}));return a.createElement(S,null,a.createElement("p",null,"Select a state from the drop down or by clicking on the map."),a.createElement(M,null,a.createElement("div",null," ",a.createElement("label",{htmlFor:"states"},"Choose a State:"),"",a.createElement("select",{id:"states",onChange:function(t){var r=t.currentTarget.value,a=t.target.selectedOptions;e([Number(r),a[0].text])},value:r[0]},n.map((function(t){var e=t.id,r=t.properties.name;return a.createElement("option",{value:Number(e),key:e},r)})))),a.createElement(N,{onClick:function(){return e([-1,""])}},"Reset")),a.createElement("p",null,"Selecting a state will highlight that states' counties in the scatter plot below and show the cumulative trajectory over the year."))}var I=r(5444),A=n.ZP.div.withConfig({displayName:"scatter__Container",componentId:"sc-1854qe5-0"})(["width:100%;display:flex;align-items:center;flex-direction:column;"]),j=n.ZP.div.withConfig({displayName:"scatter__SelectionContainer",componentId:"sc-1854qe5-1"})(["display:flex;flex-wrap:wrap;justify-content:center;"]),Z=n.ZP.div.withConfig({displayName:"scatter__TextContainer",componentId:"sc-1854qe5-2"})(["display:flex;flex-direction:column;justify-content:start;width:100%;& > h1{margin:5px 5px 0 5px;}"]),D=n.ZP.p.withConfig({displayName:"scatter__Text",componentId:"sc-1854qe5-3"})(["margin:5px;"]),q=n.ZP.hr.withConfig({displayName:"scatter__Divider",componentId:"sc-1854qe5-4"})(["width:98%;height:1px;background-color:black;border-radius:1px;margin:5px 10px;"]);function T(){var t=(0,a.useState)([-1,""]),e=t[0],r=t[1],n=(0,a.useState)(Array(1)),o=n[0],i=n[1],l=function(t,e){var a=t[0],n=t[1];void 0===e&&(e=!1);var i=o[0];return e||a===i.currId||-1===a?(i.reset(),r([-1,""]),!1):(i.select(a),r([a,n]),!0)};return a.createElement(y.Z,{selectedPage:"Scatter"},a.createElement(A,null,a.createElement(Z,null,a.createElement("h1",null,"Scatter Plots"),a.createElement(D,null,"This page provides an alternative view to"," ",a.createElement(I.rU,{to:"/static"},"the static choropleth plots page"),"."),a.createElement(D,null,"The scatter plots below show the number of times a county was a hot spot or cold spot vs the last week number it was a significant value. Each point on the scatter plot represents the counties at the specified count and week number. Since multiple counties can be at the same location, the point is color blue if the majority of the counties were cold spots and red if the majority were hot spots. A darker colored point shows a higher proportion of counties being hot or cold spots.")),a.createElement(q,null),a.createElement(j,null,a.createElement(_,{stateSelector:l,selectedState:e}),a.createElement(C,{highlightedState:e,stateSelector:l,addState:function(t){o[0]=t,i(o)}})),a.createElement(q,null),a.createElement(m,{selectedState:e}),a.createElement(q,null),a.createElement(Z,null,a.createElement(D,null)),a.createElement(f,null),a.createElement(g,null),a.createElement(h,null)))}}}]);
//# sourceMappingURL=component---src-pages-scatter-tsx-bd404469f1aab0e304ba.js.map