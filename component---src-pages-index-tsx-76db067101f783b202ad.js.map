{"version":3,"sources":["webpack://my-gatsby-site/./src/utility/sparse.ts","webpack://my-gatsby-site/./src/pages/index.tsx"],"names":["Sparse","arr","nweek","fips","this","base","n","map","1","2","0","Number","get","i","count","s","lastWeek","Array","keys","reduce","acc","curr","recent","format","data","Object","key","cue_mobility","cue_sheltered","safe_mobility","safe_sheltered"],"mappings":"0LASqBA,E,WAQjB,WAAYC,EAAYC,EAAeC,GACnCC,KAAKC,KAAOJ,EAAII,YACTJ,EAAG,KACVG,KAAKH,IAAMA,EACXG,KAAKE,EAAIJ,EACTE,KAAKG,IAAM,CAAEC,EAAG,MAAOC,EAAG,OAAQC,EAAG,QACrCN,KAAKD,KAAOQ,OAAOR,G,2BAGvBS,IAAA,SAAIC,GACA,OAAQA,KAAKT,KAAKH,IAAOG,KAAKH,IAAIY,GAAKT,KAAKC,M,EAGhDS,MAAA,SAAMC,EAAmBC,GAAmB,WACxC,YADwC,IAAnBA,MAAWZ,KAAKE,IAC9B,OAAIW,MAAMD,GAAUE,QAAQX,KAAI,SAAAM,GACnC,OAAOF,OAAO,EAAKJ,IAAI,EAAKK,IAAIC,MAAQE,MACzCI,QAAO,SAACC,EAAKC,GACZ,OAAOD,EAAMC,M,EAIrBC,OAAA,SAAOP,EAAmBC,GAAmB,WACzC,YADyC,IAAnBA,MAAWZ,KAAKE,IAC/B,OAAIW,MAAMD,GAAUE,QAAQX,KAAI,SAAAM,GACnC,OAAOF,OAAO,EAAKJ,IAAI,EAAKK,IAAIC,MAAQE,MACzCI,QAAO,SAACC,EAAKC,EAAMR,GAClB,OAAOQ,EAAOR,EAAIO,IACnB,I,40qlBC5BLG,EAAS,SAACC,GACd,OAAOC,OAAOP,KAAKM,GAAMjB,KAAI,SAACmB,EAAKb,GACjC,OAAO,IAAIb,EAAOwB,EAAKE,GAJb,GAI0BA,OAiBxC,EAbc,WACZ,OACE,gBAAC,UAAD,CACEF,KAAM,CACJD,EAAOI,GACPJ,EAAOK,GACPL,EAAOM,GACPN,EAAOO","file":"component---src-pages-index-tsx-76db067101f783b202ad.js","sourcesContent":["type Vec = {\n    [key: number]: number\n}\n\ntype Input = {\n    [key: number]: number\n    base: number\n}\n\nexport default class Sparse {\n\n    base: number;\n    arr: Vec\n    n: number\n    private map: { [key: number]: string }\n    fips: number\n\n    constructor(arr: Input, nweek: number, fips: string | number) {\n        this.base = arr.base;\n        delete arr[\"base\"];\n        this.arr = arr;\n        this.n = nweek\n        this.map = { 1: 'hot', 2: 'cold', 0: 'none'}\n        this.fips = Number(fips)\n    }\n\n    get(i: number) {\n        return (i in this.arr) ? this.arr[i] : this.base\n    }\n\n    count(s: 'hot' | 'cold', lastWeek = this.n) {\n        return [...Array(lastWeek).keys()].map(i => {\n            return Number(this.map[this.get(i)] === s)\n        }).reduce((acc, curr) => {\n            return acc + curr\n        })\n    }\n\n    recent(s: 'hot' | 'cold', lastWeek = this.n) {\n        return [...Array(lastWeek).keys()].map(i => {\n            return Number(this.map[this.get(i)] === s)\n        }).reduce((acc, curr, i) => {\n            return curr ? i : acc\n        }, 0)\n    }\n\n}","import React from \"react\";\nimport styled from \"styled-components\";\n\nimport Sparse from \"../utility/sparse\";\n\nimport Page from \"../components/page\";\nimport Trivariate from \"./trivar\";\n\nimport cue_mobility from \"../data/cm.json\";\nimport cue_sheltered from \"../data/cs.json\";\nimport safe_mobility from \"../data/sm.json\";\nimport safe_sheltered from \"../data/ss.json\";\n\nconst nweek = 52;\n\nconst format = (data) => {\n  return Object.keys(data).map((key, i) => {\n    return new Sparse(data[key], nweek, key);\n  });\n};\n\nconst Index = () => {\n  return (\n    <Trivariate\n      data={[\n        format(cue_mobility),\n        format(cue_sheltered),\n        format(safe_mobility),\n        format(safe_sheltered),\n      ]}\n    />\n  );\n};\n\nexport default Index;\n"],"sourceRoot":""}