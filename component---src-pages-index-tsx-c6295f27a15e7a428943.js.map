{"version":3,"sources":["webpack://my-gatsby-site/./src/utility/sparse.ts","webpack://my-gatsby-site/./src/pages/index.tsx"],"names":["Sparse","arr","nweek","fips","this","base","n","Number","get","i","count","lastWeek","Array","keys","map","val","reduce","acc","curr","recent","format","data","Object","key","cue_mobility","cue_sheltered","safe_mobility","safe_sheltered"],"mappings":"0LASqBA,E,WAOjB,WAAYC,EAAYC,EAAeC,GACnCC,KAAKC,KAAOJ,EAAII,YACTJ,EAAG,KACVG,KAAKH,IAAMA,EACXG,KAAKE,EAAIJ,EACTE,KAAKD,KAAOI,OAAOJ,G,2BAGvBK,IAAA,SAAIC,GACA,OAAQA,KAAKL,KAAKH,IAAOG,KAAKH,IAAIQ,GAAKL,KAAKC,M,EAGhDK,MAAA,SAAMC,GAAmB,WACrB,YADqB,IAAnBA,MAAWP,KAAKE,IACX,OAAIM,MAAMD,GAAUE,QAAQC,KAAI,SAAAL,GACnC,IAAMM,EAAM,EAAKP,IAAIC,GACrB,MAAO,CAACF,OAAe,IAARQ,GAAYR,OAAe,IAARQ,OACnCC,QAAO,SAACC,EAAKC,GACZ,MAAO,CAACD,EAAI,GAAKC,EAAK,GAAID,EAAI,GAAKC,EAAK,MACzC,CAAC,EAAG,K,EAGXC,OAAA,SAAOR,GAAmB,WACtB,YADsB,IAAnBA,MAAWP,KAAKE,IACZ,OAAIM,MAAMD,GAAUE,QAAQC,KAAI,SAAAL,GACnC,IAAMM,EAAM,EAAKP,IAAIC,GACrB,MAAO,CAACF,OAAe,IAARQ,GAAYR,OAAe,IAARQ,OACnCC,QAAO,SAACC,EAAKC,EAAMT,GAClB,MAAO,CAACS,EAAK,GAAKT,EAAIQ,EAAI,GAAIC,EAAK,GAAKT,EAAIQ,EAAI,MACjD,CAAC,EAAG,K,20qlBC5BTG,EAAS,SAACC,GACd,OAAOC,OAAOT,KAAKQ,GAAMP,KAAI,SAACS,EAAKd,GACjC,OAAO,IAAIT,EAAOqB,EAAKE,GAJb,GAI0BA,OAiBxC,EAbc,WACZ,OACE,gBAAC,UAAD,CACEF,KAAM,CACJD,EAAOI,GACPJ,EAAOK,GACPL,EAAOM,GACPN,EAAOO","file":"component---src-pages-index-tsx-c6295f27a15e7a428943.js","sourcesContent":["type Vec = {\n    [key: number]: number\n}\n\ntype Input = {\n    [key: number]: number\n    base: number\n}\n\nexport default class Sparse {\n\n    base: number;\n    arr: Vec\n    n: number\n    fips: number\n\n    constructor(arr: Input, nweek: number, fips: string | number) {\n        this.base = arr.base;\n        delete arr[\"base\"];\n        this.arr = arr;\n        this.n = nweek\n        this.fips = Number(fips)\n    }\n\n    get(i: number) {\n        return (i in this.arr) ? this.arr[i] : this.base\n    }\n\n    count(lastWeek = this.n) {\n        return [...Array(lastWeek).keys()].map(i => {\n            const val = this.get(i)\n            return [Number(val === 1), Number(val === 2)]\n        }).reduce((acc, curr) => {\n            return [acc[0] + curr[0], acc[1] + curr[1]]\n        }, [0, 0])\n    }\n\n    recent(lastWeek = this.n) {\n        return [...Array(lastWeek).keys()].map(i => {\n            const val = this.get(i)\n            return [Number(val === 1), Number(val === 2)]\n        }).reduce((acc, curr, i) => {\n            return [curr[0] ? i : acc[0], curr[1] ? i : acc[1]]\n        }, [0, 0])\n    }\n\n}","import React from \"react\";\nimport styled from \"styled-components\";\n\nimport Sparse from \"../utility/sparse\";\n\nimport Page from \"../components/page\";\nimport Trivariate from \"./trivar\";\n\nimport cue_mobility from \"../data/cm.json\";\nimport cue_sheltered from \"../data/cs.json\";\nimport safe_mobility from \"../data/sm.json\";\nimport safe_sheltered from \"../data/ss.json\";\n\nconst nweek = 52;\n\nconst format = (data) => {\n  return Object.keys(data).map((key, i) => {\n    return new Sparse(data[key], nweek, key);\n  });\n};\n\nconst Index = () => {\n  return (\n    <Trivariate\n      data={[\n        format(cue_mobility),\n        format(cue_sheltered),\n        format(safe_mobility),\n        format(safe_sheltered),\n      ]}\n    />\n  );\n};\n\nexport default Index;\n"],"sourceRoot":""}