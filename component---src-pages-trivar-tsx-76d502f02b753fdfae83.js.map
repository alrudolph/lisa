{"version":3,"sources":["webpack://my-gatsby-site/./src/components/trivar/cards.tsx","webpack://my-gatsby-site/./src/components/trivar/map.tsx","webpack://my-gatsby-site/./src/components/trivar/mapView.tsx","webpack://my-gatsby-site/./src/pages/trivar.tsx","webpack://my-gatsby-site/./src/utility/mapZoom.ts"],"names":["Container","styled","Title","Text","Row","Card","title","hcount","ccount","hrecent","crecent","MapContainer","county","border","getStateFips","fips","Number","String","slice","MapSettings","countiesMap","highlightedState","highlightedCounty","addState","stateSelector","countySelector","data","time","colorScales","hotScale","coldScale","getRadius","width","height","translate","scale","d3Container","useRef","projection","d3","map_path","useEffect","map_g","current","attr","append","MapZoom","style","selectAll","topojson","objects","states","features","enter","id","counties","geometries","filter","val","properties","name","on","county_path","datum","centroid","sparse","recent","hot","cold","event","this","getAttribute","_","ref","Button","LegendContainer","Legend","Cards","MapView","selectedCounty","setSelectedCounty","selectedState","setSelectedState","setTime","useContext","LisaContext","mapData","mapTitles","useState","Array","length","mapZoom","setMapZoom","zoomScale","setZoomScale","reset","zooming","forEach","m","currId","select","domain","d","Sparse","count","n","Math","max","countContainer","maxHeight","maxWidth","margin","min","pointData","x","r","remove","xAxis","range","yAxis","call","ticks","tickFormat","i","text","recentContainer","weekValues","keys","map","w","c","key","mapNum","onClick","selectedPage","path","g","active","_d","bounds","x0","y0","x1","y1","dx","dy","y","scaleNew","translateNew","transition","duration","clicked","stateId","node","classed"],"mappings":"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","file":"component---src-pages-trivar-tsx-76d502f02b753fdfae83.js","sourcesContent":["import React from \"react\";\nimport styled from \"styled-components\";\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  border-radius: 10px;\n  background-color: lightgray;\n  width: 170px;\n  margin: 5px;\n  padding: 5px;\n`;\n\nconst Title = styled.h3`\n  margin: 0 0 10px 0;\n`;\n\nconst Text = styled.p`\n  margin: 0;\n`;\n\nconst Row = styled.div`\n  display: flex;\n  justify-content: space-between;\n`;\n\ntype Props = {\n  title: string;\n  hcount: number;\n  ccount: number;\n  hrecent: number;\n  crecent: number;\n};\n \nexport default function Card({\n  title,\n  hcount,\n  ccount,\n  hrecent,\n  crecent,\n}: Props) {\n  return (\n    <Container>\n      <Title>{title}</Title>\n      <Row>\n        <Text># Hot Spots:</Text> <Text>{hcount}</Text>\n      </Row>\n      <Row>\n        <Text># Cold Spots:</Text><Text>{ccount}</Text>\n      </Row>\n      <Row>\n        <Text>Last Hot Spot:</Text><Text>{hrecent}</Text>\n      </Row>\n      <Row>\n        <Text>Last Cold Spot:</Text><Text>{crecent}</Text>\n      </Row>\n    </Container>\n  );\n}\n","import React, { useRef, useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\n\nimport * as d3 from \"d3\";\nimport * as topojson from \"topojson\";\n\nimport MapZoom from \"../../utility/mapZoom\";\nimport Sparse from \"../../utility/sparse\";\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n\n  margin: 10px;\n`;\n\nconst Title = styled.h3`\n  margin: 0;\n`;\n\nconst MapContainer = styled.svg`\n  g {\n    background-color: light-gray;\n    fill: red;\n  }\n  border: 1px solid black;\n\n  #c${({ county }: { county: number }) => county}.cboundary {\n    stroke: black;\n    stroke-width: 0.25px;\n  }\n\n  .cboundary {\n    stroke-width: 0px;\n    fill: #ffffff00;\n  }\n\n  .bubble {\n    stroke-width: 0;\n  }\n\n  border: 1px solid ${({ border }: { border: boolean }) => (border ? \"black\" : \"white\")};\n`;\n\nconst getStateFips = (fips: number): number => {\n  return Number(String(fips).slice(0, -3));\n};\n\ntype MapSettings = {\n  width: number;\n  height: number;\n  translate: [number, number];\n  scale: number;\n};\n\ntype Data = Array<Sparse>;\n\ninterface Props {\n  title: string;\n  MapSettings: MapSettings;\n  countiesMap: any;\n  highlightedState: [number, string];\n  highlightedCounty: [number, string];\n  addState: (m: MapZoom) => void;\n  stateSelector: ([s, s1]: [number, string], b?: boolean) => boolean;\n  countySelector: ([s, s1]: [number, string]) => void;\n  data: Data;\n  time: [number, number];\n  colorScales: [any, any];\n  getRadius: (g: Sparse) => number;\n}\n\nconst Map = ({\n  title,\n  MapSettings,\n  countiesMap,\n  highlightedState,\n  highlightedCounty,\n  addState,\n  stateSelector,\n  countySelector,\n  data,\n  time,\n  colorScales: [hotScale, coldScale],\n  getRadius,\n}: Props) => {\n  const { width, height, translate, scale } = MapSettings;\n\n  const d3Container = useRef(null);\n\n  const projection = d3.geoAlbers().scale(scale).translate(translate);\n  const map_path = d3.geoPath().projection(projection);\n\n  useEffect(() => {\n    const map_g = d3\n      .select(d3Container.current)\n      .attr(\"width\", width)\n      .attr(\"height\", height)\n      .append(\"g\");\n\n    addState(new MapZoom(map_path, map_g, width, height, highlightedState[0]));\n\n    // States:\n    map_g\n      .append(\"g\")\n      .style(\"stroke\", \"black\")\n      .style(\"stroke-width\", \"0.5px\")\n      .style(\"fill\", \"#ffffffff\")\n      .selectAll(\"path\")\n      .data(topojson.feature(countiesMap, countiesMap.objects.states).features)\n      .enter()\n      .append(\"path\")\n      .attr(\"d\", map_path as any)\n      .attr(\"stateFips\", ({ id }) => Number(id));\n\n    // Counties:\n    map_g\n      .append(\"g\")\n      .selectAll(\"path\")\n      .data(\n        topojson.feature(countiesMap, countiesMap.objects.counties).features\n      )\n      .enter()\n      .append(\"path\")\n      .attr(\"d\", map_path as any)\n      .attr(\"stateName\", ({ id }) => {\n        return countiesMap.objects.states.geometries.filter((val) => {\n          return getStateFips(id) === Number(val.id);\n        })[0].properties.name;\n      })\n      .attr(\"id\", ({ id }) => `c${Number(id)}`)\n      //   .attr(\"countyName\", ({ properties: { name } }) => name)\n      .attr(\"class\", \"cboundary\")\n      .on(\"mouseout\", () => {\n        countySelector([-1, \"\"]);\n      });\n\n    // County Circles:\n    map_g\n      .selectAll(\"circle\")\n      .data(data)\n      .enter()\n      .append(\"circle\")\n      .attr(\"class\", \"bubble\")\n      /* \n        HAVE TO LOAD COUNTY AND STATE NAME TO BUBBLES HERE:\n          MAYBE PUT THOSE AS SPARSE VECTOR INFO\n      */\n      .attr(\"countyName\", ({ fips }) => {\n        return countiesMap.objects.counties.geometries.filter(({ id }) => {\n          return fips === Number(id);\n        })[0].properties.name;\n      })\n      .attr(\"stateName\", ({ fips }) => {\n        return countiesMap.objects.states.geometries.filter(({ id }) => {\n          return getStateFips(fips) === Number(id);\n        })[0].properties.name;\n      })\n      .attr(\"transform\", ({ fips }) => {\n        const county_path = d3.select(`#c${fips}`).datum();\n        return `translate(${map_path.centroid(county_path)})`;\n      })\n      .on(\"mouseout\", () => {\n        countySelector([-1, \"\"]);\n      });\n  }, []);\n\n  useEffect(() => {\n    d3.selectAll(\".bubble\")\n      .attr(\"r\", getRadius)\n      .style(\"fill\", (sparse) => {\n        const [hot, cold] = sparse.recent(...time);\n        return hot > cold ? hotScale(hot) : coldScale(cold);\n      });\n  }, [time]);\n\n  useEffect(() => {\n    d3.selectAll(\".cboundary\").on(\"click\", function (event, { id }) {\n      stateSelector([getStateFips(id), this.getAttribute(\"stateName\")]);\n    });\n\n    d3.selectAll(\".cboundary\").on(\n      \"mouseover\",\n      function (event, { id, properties: { name } }) {\n        if (highlightedState[1] !== \"\") {\n          countySelector([Number(id), name]);\n        }\n      }\n    );\n\n    d3.selectAll(\".bubble\")\n      .on(\"mouseover\", function (_, { fips }) {\n        if (!highlightedState) {\n          return;\n        }\n        // console.log(getStateFips(d.fips), highlightedState[0])\n        if (highlightedState[1] !== \"\") {\n          countySelector([fips, this.getAttribute(\"countyName\")]);\n        }\n      })\n      .on(\"click\", function (event, { fips }) {\n        stateSelector([getStateFips(fips), this.getAttribute(\"stateName\")]);\n      })\n      .style(\"fill-opacity\", ({ fips }) => {\n        return highlightedState[0] === -1 ||\n          getStateFips(fips) === highlightedState[0]\n          ? 1\n          : 0.2;\n      });\n  }, [highlightedState]);\n\n  return (\n    <Container>\n      <Title>{title}</Title>\n      <MapContainer ref={d3Container} county={highlightedCounty[0]} border={highlightedState[0] !== -1}/>\n    </Container>\n  );\n};\n\nexport default Map;\n","import React, { useRef, useEffect, useState, useContext } from \"react\";\nimport styled from \"styled-components\";\n\nimport * as d3 from \"d3\";\n\n//import us from \"us-atlas/nation-10m.json\"\nimport counties from \"us-atlas/counties-10m.json\";\nimport states from \"us-atlas/states-10m.json\";\n//import data from \"../data/counties.json\";\n\nimport MapZoom from \"../../utility/mapZoom\";\nimport Sparse from \"../../utility/sparse\";\nimport Card from \"./cards\";\nimport Map from \"./map\";\nimport { LisaContext } from \"../../contexts/lisaContext\"\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n\nconst MapContainer = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n\n  width: 100%;\n  flex-wrap: wrap;\n\n  @media (max-width: 770px) {\n    flex-wrap: wrap;\n  }\n`;\n\nconst Row = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: space-evenly;\n\n  width: 100%;\n  flex-wrap: wrap;\n`;\n\nconst Text = styled.p`\n  margin: 0;\n  width: 100px;\n  white-space: nowrap;\n`;\n\nconst Button = styled.button`\n  width: 50px;\n`;\n\nconst LegendContainer = styled.div`\n  width: 800px;\n  display: flex;\n  height: auto;\n`;\n\nconst Legend = styled.div`\n  margin: 10px;\n  width: 390px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst Cards = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: space-evenly;\n  flex-wrap: wrap;\n  width: 70%;\n`;\n\ntype MapSettings = {\n  width: number;\n  height: number;\n  translate: [number, number];\n  scale: number;\n};\n\ntype Data = Array<Sparse>;\n\ntype Props = {\n  MapSettings: MapSettings;\n  selectedCounty: [number, string];\n  setSelectedCounty: ([s1, s2]: [number, string]) => void;\n  selectedState: [number, string];\n  setSelectedState: ([s1, s2]: [number, string]) => void;\n  time: [number, number];\n  setTime: ([n1, n2]: [number, number]) => void;\n};\n\nconst getStateFips = (fips: number): number => {\n  return Number(String(fips).slice(0, -3));\n};\n\nexport default function MapView({\n  MapSettings,\n  selectedCounty,\n  setSelectedCounty,\n  selectedState,\n  setSelectedState,\n  time,\n  setTime,\n}: Props) {\n  const { mapData, mapTitles } = useContext(LisaContext)\n\n  const [mapZoom, setMapZoom] = useState(Array<MapZoom>(mapTitles.length));\n\n  const addState = (m: MapZoom, mapNum: number) => {\n    mapZoom[mapNum] = m;\n    setMapZoom(mapZoom);\n  };\n\n  const [zoomScale, setZoomScale] = useState(1);\n\n  const stateSelector = (\n    [id, name]: [number, string],\n    reset: boolean = false\n  ) => {\n    let zooming: boolean;\n\n    mapZoom.forEach((m) => {\n      if (!reset && id !== m.currId && id !== -1) {\n        setZoomScale(m.select(id));\n        zooming = true;\n      } else {\n        m.reset();\n        setZoomScale(1);\n        zooming = false;\n      }\n    });\n\n    if (zooming) {\n      setSelectedState([id, name]);\n      return true;\n    } else {\n      setSelectedState([-1, \"\"]);\n      return false;\n    }\n  };\n\n  const countySelector = ([id, name]: [number, string]) => {\n    if (id === -1 || getStateFips(id) === selectedState[0]) {\n      setSelectedCounty([id, name]);\n    }\n  };\n\n  const coldScale = d3\n    .scaleSequentialPow(d3.interpolateBlues)\n    .domain([...time]);\n  const hotScale = d3.scaleSequentialPow(d3.interpolateReds).domain([...time]);\n\n  const getRadius = (d: Sparse | number) => {\n    const val = d instanceof Sparse ? d.count(...time) : [d];\n    const n = d instanceof Sparse ? d.n : time[1];\n    return (30 + Math.max(...val)) / n;\n  };\n\n  const countContainer = useRef(null);\n\n  const maxHeight = 100;\n  const maxWidth = 380;\n  const margin = [20, 20];\n\n  useEffect(() => {\n    const width = Math.min(maxWidth, 100 + zoomScale * 10) - 2 * margin[0];\n    const height = Math.min(maxHeight, 40 + zoomScale * 2);\n\n    const pointData = [\n      { x: 1, r: 1 },\n      { x: 2, r: 5 },\n      { x: 3, r: 10 },\n      { x: 4, r: 20 },\n      { x: 5, r: 52 },\n    ];\n\n    d3.select(countContainer.current).selectAll(\"*\").remove();\n\n    const map_g = d3\n      .select(countContainer.current)\n      .style(\"width\", width + (7 / 2) * margin[0])\n      .style(\"height\", height + 2 * margin[1])\n      .append(\"g\")\n      .attr(\"transform\", `translate(${margin[0]},0)`);\n\n    const xAxis = d3.scaleLinear().domain([1, pointData[pointData.length - 1].x]).range([0, width]);\n    const yAxis = d3.scaleLinear().domain([0, 1]).range([height, 0]);\n\n    map_g\n      .append(\"g\")\n      .attr(\n        \"transform\",\n        `translate(0,${(margin[1] * 3) / 2 + (zoomScale * 5) / 2})`\n      )\n      .call(\n        d3\n          .axisBottom(xAxis)\n          .ticks(5)\n          .tickFormat((i) => String(pointData[i - 1].r))\n      );\n\n    map_g\n      .append(\"g\")\n      .attr(\"transform\", `translate(${margin[0]},0)`)\n      .call(d3.axisLeft(yAxis))\n      .style(\"display\", \"none\");\n\n    map_g\n      .selectAll(\"dot\")\n      .remove()\n      .data(pointData)\n      .enter()\n      .append(\"circle\")\n      .attr(\"class\", \"point\")\n      .attr(\"cx\", ({ x }) => xAxis(x))\n      .attr(\"cy\", () => yAxis(0.5))\n      .attr(\"r\", ({ r }) => getRadius(r) * zoomScale)\n      .style(\"fill\", \"black\");\n\n    map_g\n      .append(\"text\")\n      .attr(\"text-anchor\", \"end\")\n      .attr(\"x\", width / 2 + margin[0])\n      .attr(\"y\", height + (margin[1] * 3) / 2 + zoomScale / 4)\n      .text(\"Count\");\n  }, [time, zoomScale]);\n\n  const recentContainer = useRef(null);\n\n  useEffect(() => {\n    d3.select(recentContainer.current).selectAll(\"*\").remove();\n\n    const leftMargin = 30;\n\n    const map_g = d3\n      .select(recentContainer.current)\n      .style(\"width\", maxWidth)\n      .style(\"height\", maxHeight)\n      // .style(\"background-color\", \"lightgray\")\n      .append(\"g\")\n      .attr(\"transform\", `translate(${leftMargin + margin[0]},0)`);\n\n    const weekValues = [1, 5, 10, 15, 20, 25, 30, 40, 46, 52];\n\n    const pointData = [...Array(weekValues.length * 2).keys()].map((i) => {\n      return {\n        x: (i % weekValues.length) + 1,\n        w: weekValues[i % weekValues.length],\n        c: i < weekValues.length ? 1 : 2,\n      };\n    });\n\n    const xAxis = d3\n      .scaleLinear()\n      .domain([1, weekValues.length])\n      .range([0, maxWidth - 2 * margin[0] - leftMargin]);\n    const yAxis = d3\n      .scaleLinear()\n      .domain([0, 3])\n      .range([maxHeight - 2 * margin[1], 0]);\n\n    map_g\n      .append(\"g\")\n      .attr(\"transform\", `translate(0,${margin[1] + (maxHeight * 5) / 12})`)\n      .call(\n        d3\n          .axisBottom(xAxis)\n          .ticks(5)\n          .tickFormat((i) => String(pointData[i - 1].w))\n      );\n\n    map_g\n      .append(\"g\")\n      .attr(\"transform\", `translate(${margin[0]},0)`)\n      .call(d3.axisLeft(yAxis))\n      .style(\"display\", \"none\");\n\n    map_g\n      .selectAll(\"dot\")\n      .remove()\n      .data(pointData)\n      .enter()\n      .append(\"circle\")\n      .attr(\"class\", \"point\")\n      .attr(\"cx\", ({ x }) => xAxis(x))\n      .attr(\"cy\", ({ c }) => yAxis(c))\n      .attr(\"r\", () => 9)\n      .style(\"fill\", ({ c, w }) => (c === 1 ? hotScale(w) : coldScale(w)));\n\n    map_g\n      .append(\"text\")\n      .attr(\"text-anchor\", \"end\")\n      .attr(\"x\", maxWidth / 2 + leftMargin)\n      .attr(\"y\", (maxHeight * 19) / 20)\n      .text(\"Week Number\");\n\n    map_g\n      .append(\"text\")\n      .attr(\"text-anchor\", \"end\")\n      .attr(\"x\", -leftMargin / 2)\n      .attr(\"y\", maxHeight / 2 - 5)\n      .text(\"Hot\");\n\n    map_g\n      .append(\"text\")\n      .attr(\"text-anchor\", \"end\")\n      .attr(\"x\", -leftMargin / 2)\n      .attr(\"y\", maxHeight / 4)\n      .text(\"Cold\");\n  }, [time, zoomScale]);\n\n  // useEffect(() => {\n  //   d3\n  //     .select(d3Container.current)\n  //     .selectAll(\".point\")\n  //     .attr(\"r\", ({ r }) => getRadius(r) * zoomScale)\n  // }, [time, zoomScale])\n\n  return (\n    <Container>\n      <Text>Selected State: {selectedState[1]}</Text>\n      <MapContainer>\n        {mapTitles.map((title, i) => {\n          return (\n            <Map\n              key={i}\n              MapSettings={MapSettings}\n              title={title}\n              countiesMap={counties}\n              highlightedCounty={selectedCounty}\n              highlightedState={selectedState}\n              addState={(m: MapZoom) => addState(m, i)}\n              stateSelector={stateSelector}\n              countySelector={countySelector}\n              time={time}\n              data={mapData ? mapData[i] : null}\n              colorScales={[hotScale, coldScale]}\n              getRadius={getRadius}\n            />\n          );\n        })}\n      </MapContainer>\n      <Text>{selectedCounty[1] ? `Selected County: ${selectedCounty[1]} County` : \"\"}</Text>\n      <Cards>\n        {selectedCounty[0] !== -1\n          ? [0, 2, 1, 3].map((i) => {\n              const county = mapData\n                ? mapData[i].filter(\n                    (d) => Number(d.fips) === Number(selectedCounty[0])\n                  )[0]\n                : false;\n\n              const [hcount, ccount] = county ? county.count(...time) : [0, 0];\n              const [hrecent, crecent] = county\n                ? county.recent(...time)\n                : [0, 0];\n\n              return (\n                <Card\n                  key={i}\n                  title={mapTitles[i]}\n                  hcount={hcount}\n                  ccount={ccount}\n                  hrecent={hrecent}\n                  crecent={crecent}\n                />\n              );\n            })\n          : null}\n      </Cards>\n      <LegendContainer>\n        <Legend>\n          <svg ref={recentContainer} />\n        </Legend>\n        <Legend>\n          <svg ref={countContainer} />\n        </Legend>\n      </LegendContainer>\n      <Row>\n        <Button\n          onClick={() => {\n            stateSelector([-1, \"\"], true);\n          }}\n        >\n          Reset\n        </Button>\n      </Row>\n    </Container>\n  );\n}\n","import React, { useState, useContext } from \"react\";\nimport styled from \"styled-components\";\n\nimport MapView from \"../components/trivar/mapView\";\nimport ScatterView from \"../components/trivar/scatterView\";\nimport Slider from \"../components/trivar/slider\";\nimport Page from \"../components/page\";\n\nimport Sparse from \"../utility/sparse\";\n\n\nconst Container = styled.div`\n  width: 100%;\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n`;\n\n\nconst Trivariate = () => {\n\n  const width = 380;\n  const height = 250;\n  const mapsTranslate: [number, number] = [width / 2, height / 2];\n  const mapsScale = 500;\n\n  const MapSettings = {\n    width,\n    height,\n    translate: mapsTranslate,\n    scale: mapsScale,\n  };\n\n  const [selectedCounty, setSelectedCounty] = useState<[number, string]>([\n    -1,\n    \"\",\n  ]);\n\n  const [selectedState, setSelectedState] = useState<[number, string]>([\n    -1,\n    \"\",\n  ]);\n\n  const [time, setTime] = useState<[number, number]>([0, 52])\n\n  return (\n    <Page selectedPage=\"Static\">\n      <Container>\n        <MapView\n          MapSettings={MapSettings}\n          selectedCounty={selectedCounty}\n          setSelectedCounty={setSelectedCounty}\n          selectedState={selectedState}\n          setSelectedState={setSelectedState}\n          time={time}\n          setTime={setTime}\n        />\n        {/*<Slider time={time} setTime={setTime}/>*/}\n        {/*<p>State Selected: {selectedState[1]}</p>*/}\n      </Container>\n    </Page>\n  );\n};\n\nexport default Trivariate;\n","import * as d3 from \"d3\"\n\nexport default class MapZoom {\n    active = d3.select(null);\n    path = null\n    g = null\n    width = 0\n    height = 0\n    currId = -1\n\n    constructor(path, g, width, height, id) {\n        this.path = path\n        this.g = g;\n        this.width = width\n        this.height = height\n        this.currId = id\n    }\n\n    /*\n        Zoom in from id\n    */\n    select(id: number) {\n        this.currId = id;\n\n        const clicked = this.g.select(`[stateFips='${id}']`);\n\n        // // this.active.classed(\"active\", false);\n        // // this.active = clicked.classed(\"active\", true);\n\n        let d;\n        clicked.attr('x', (_d, i) => {\n            d = _d\n        })\n\n        const [[x0, y0], [x1, y1]] = this.path.bounds(d);\n\n        const dx = x1 - x0;\n        const dy = y1 - y0;\n        const x = (x0 + x1) / 2;\n        const y = (y0 + y1) / 2;\n\n        // const box = d.node().getBBox()\n\n        // const dx = box.width\n        // const dy = box.height\n        // const x = box.x + box.width / 2\n        // const y = box.y + box.height / 2\n\n        // console.log(x, y, dx, dy)\n\n        const scaleNew = 0.8 / Math.max(dx / this.width, dy / this.height);\n        const translateNew = [this.width / 2 - scaleNew * x, this.height / 2 - scaleNew * y]\n\n        this.g\n            .transition()\n            .duration(650)\n            .attr(\"transform\", `translate(${translateNew}) scale(${scaleNew})`)\n\n        return scaleNew\n    }\n\n    /*\n        On click event handler,\n\n\n        not used, WON'T WORK ANYMORE\n    */\n    clicked(clicked, d) {\n        const stateId = clicked.getAttribute(\"id\")\n        // const states = d3.selectAll(`[id='${stateId}']`)\n\n        if (this.active.node() === clicked) {\n            return this.reset();\n        }\n\n        this.active.classed(\"active\", false);\n        this.active = d3.select(clicked).classed(\"active\", true);\n\n        const [[x0, y0], [x1, y1]] = this.path.bounds(d);\n\n        const dx = x1 - x0;\n        const dy = y1 - y0;\n        const x = (x0 + x1) / 2;\n        const y = (y0 + y1) / 2;\n\n        const scaleNew = 0.7 / Math.max(dx / this.width, dy / this.height);\n        const translateNew = [this.width / 2 - scaleNew * x, this.height / 2 - scaleNew * y]\n\n        this.g\n            .transition()\n            .duration(650)\n            .attr(\"transform\", `translate(${translateNew}) scale(${scaleNew})`)\n\n        return stateId\n    }\n\n    /*\n        Reset map view\n    */\n    reset() {\n        this.currId = \"\"\n        this.active.classed(\"active\", false);\n        this.active = d3.select(null);\n\n        this.g\n            .transition()\n            .duration(500)\n            .attr(\"transform\", `translate(0)`)\n    }\n}"],"sourceRoot":""}