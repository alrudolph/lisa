(self.webpackChunkmy_gatsby_site=self.webpackChunkmy_gatsby_site||[]).push([[807],{9713:function(e){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.default=e.exports,e.exports.__esModule=!0},6479:function(e,t,n){var r=n(7316);e.exports=function(e,t){if(null==e)return{};var n,a,i=r(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i},e.exports.default=e.exports,e.exports.__esModule=!0},719:function(e,t,n){"use strict";n.d(t,{E:function(){return l},o:function(){return o}});var r=n(7294),a=n(7576),i=n(5743),l=(0,r.createContext)(null),o=function(e){var t=e.children,n=a.zL(i,i.objects.states).features,o=a.zL(i,i.objects.counties).features;return r.createElement(l.Provider,{value:{states:n,counties:o}},t)}},2288:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Te}});var r=n(7294),a=n(9692),i=n(2114),l=n(9088),o=n(719),c=n(3051),s=n(8928),d=n(5743),u=a.ZP.div.withConfig({displayName:"map2__Container",componentId:"sc-8v8ba5-0"})(["display:flex;flex-wrap:wrap;flex-direction:column;align-items:center;margin:10px 20px;@media (max-width:830px){margin:10px 5px;}@media (max-width:700px){margin:0;}"]),p=a.ZP.h3.withConfig({displayName:"map2__Title",componentId:"sc-8v8ba5-1"})(["margin:0;"]),m=a.ZP.svg.withConfig({displayName:"map2__MapContainer",componentId:"sc-8v8ba5-2"})(["g{background-color:light-gray;}border:1px solid ",";"],(function(e){return e.border?"black":"white"})),h=function(e){return Number(String(e).slice(0,-3))},f=function(e){var t=e.title,n=(e.highlightedCounty,e.countySelector,e.data),a=(e.time,e.MapSettings),i=e.weekNum,l=e.past,f=e.addState,g=e.stateSelector,w=e.selectedState,x=e.children,y=a.scale,v=a.translate,b=a.width,k=a.height,E=(0,r.useRef)(null),C=(0,r.useContext)(o.E),_=C.counties,N=C.states;return(0,r.useEffect)((function(){var e=c.FWi().scale(y).translate(v),t=c.l49().projection(e),n=c.Ys(E.current).attr("width",b).attr("height",k).append("g");f(new s.Z(t,n,b,k,w[0])),n.append("g").style("stroke","black").style("stroke-width","0.5px").style("fill","#ffffffff").selectAll("path").data(N).enter().append("path").attr("d",t).attr("stateFips",(function(e){var t=e.id;return Number(t)})),n.append("g").selectAll("path").data(_).enter().append("path").attr("d",t).attr("stateName",(function(e){var t=e.id;return d.objects.states.geometries.find((function(e){return h(t)===Number(e.id)})).properties.name})).attr("id",(function(e){var t=e.id;return"c"+Number(t)})).attr("class","cboundary").style("fill","#00000000")}),[]),(0,r.useEffect)((function(){n.forEach((function(e){var t=e.getLast(i),n=t.curr,r=t.last,a=t.weeks,o="#00000000",s=1;l||0===n?l&&(o=0!==n&&1===n||1===r?"#fa5a50":"#5768ac",s=n?1:(i-a+1)/(i+1)*Number(-1!==r)):o=1===n?"#fa5a50":"#5768ac",s*=Math.pow(1/4,1-Number(h(e.fips)===w[0]||-1===w[0]));var d=c.Ys(E.current).select("#c"+e.fips);d.style("fill",o),d.style("fill-opacity",s)}))}),[i,l,w]),(0,r.useEffect)((function(){c.Ys(E.current).selectAll(".cboundary").on("click",(function(e,t){var n=e.currentTarget,r=t.id;g([h(r),n.getAttribute("stateName")])}))}),[w]),r.createElement(u,null,r.createElement(p,null,t),r.createElement(m,{ref:E,border:-1!==w[0]}),x)},g=n(7154),w=n.n(g),x=n(9713),y=n.n(x),v=n(6479),b=n.n(v),k=n(5264);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){return Object.keys(e).reduce((function(t,n){var r;return r=n,(0,k.Z)(r)&&(t[n]=e[n]),t}),{})}var _=r.forwardRef((function(e,t){var n=e.children,a=e.iconAttrs,i=(e.iconVerticalAlign,e.iconViewBox),l=e.size,o=e.title,c=b()(e,["children","iconAttrs","iconVerticalAlign","iconViewBox","size","title"]),s=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){y()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({viewBox:i,height:void 0!==e.height?e.height:l,width:void 0!==e.width?e.width:l,"aria-hidden":null==o?"true":void 0,focusable:"false",role:null!=o?"img":void 0},a),d=C(c);return r.createElement("svg",w()({},s,d,{ref:t}),o&&r.createElement("title",{key:"icon-title"},o),n)})),N=(0,a.ZP)(_).withConfig({displayName:"StyledIconBase",componentId:"ea9ulj-0"})(["display:inline-block;vertical-align:",";overflow:hidden;"],(function(e){return e.iconVerticalAlign})),S=r.forwardRef((function(e,t){return r.createElement(N,w()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 16 16"},e,{ref:t}),r.createElement("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM6.79 5.093A.5.5 0 0 0 6 5.5v5a.5.5 0 0 0 .79.407l3.5-2.5a.5.5 0 0 0 0-.814l-3.5-2.5z"}))}));S.displayName="PlayCircleFill";var P=r.forwardRef((function(e,t){return r.createElement(N,w()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 16 16"},e,{ref:t}),r.createElement("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM6.25 5C5.56 5 5 5.56 5 6.25v3.5a1.25 1.25 0 1 0 2.5 0v-3.5C7.5 5.56 6.94 5 6.25 5zm3.5 0c-.69 0-1.25.56-1.25 1.25v3.5a1.25 1.25 0 1 0 2.5 0v-3.5C11 5.56 10.44 5 9.75 5z"}))}));P.displayName="PauseCircleFill";var I=r.forwardRef((function(e,t){return r.createElement(N,w()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),r.createElement("path",{d:"M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10c5.515 0 10-4.486 10-10S17.515 2 12 2zm4 14l-6-4v4H8V8h2v4l6-4v8z"}))}));I.displayName="SkipPreviousCircle";var Z=r.forwardRef((function(e,t){return r.createElement(N,w()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),r.createElement("path",{d:"M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2zm4 14h-2v-4l-6 4V8l6 4V8h2v8z"}))}));Z.displayName="SkipNextCircle";var A=r.forwardRef((function(e,t){return r.createElement(N,w()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),r.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),r.createElement("path",{d:"M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm4.82-4.924a7 7 0 10-1.852 1.266l-.975-1.755A5 5 0 1117 12h-3l2.82 5.076z"}))}));A.displayName="Restart";var M=a.ZP.div.withConfig({displayName:"controls__ButtonArea",componentId:"sc-1xay2mf-0"})(["display:flex;width:100%;justify-content:center;*{margin:5px 10px;}& > *:hover{cursor:pointer;}"]),j=function(e){var t=e.week,n=e.setWeek,a=e.playing,i=e.setPlaying;return r.createElement(M,null,r.createElement(I,{size:"30px",onClick:function(){t>0&&n(t-1),i(!1)}}),51===t?r.createElement(A,{size:"30px",onClick:function(){n(0),i(!1)}}):a?r.createElement(P,{size:"30px",onClick:function(){i(!1)}}):r.createElement(S,{size:"30px",onClick:function(){i(!0)}}),r.createElement(Z,{size:"30px",onClick:function(){t<51&&n(t+1),i(!1)}}))},V=n(7329),T=n(9159),D=a.ZP.svg.withConfig({displayName:"slider__SliderBar",componentId:"sc-1beslx3-0"})(["width:760px;height:100px;"]),O=function(e){return new Date(e+" PST")},W=function(e,t){return new Date(e.getTime()+864e5*t)},Y=function(e){var t=e.week,n=e.setWeek,a=e.setPlaying,i=e.showWeekNumber,l=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],o=(0,r.useRef)(null),s=(0,r.useContext)(T.W).map((function(e){return O(e)})),d=(0,V.Z)(Array(365).keys()).map((function(e){return{d:W(s[0],e),i:e}})).filter((function(e){return 1===e.d.getDate()})),u=c.Xf().domain([s[0],s[s.length-1]]).range([0,600]).clamp(!0),p=function(e){var t;e instanceof Date?(t=(0,V.Z)(Array(s.length).keys()).find((function(t){return s[t]>e||t===s.length-1||s[t]>=e&&0===t})),n(t)):t=e;var r=s[t],a=t+1<s.length?W(s[t+1],-1):O("2020-12-27");c.Ys(o.current).select("#handle").attr("cx",u(r)),c.Ys(o.current).select("#label").attr("x",u(r)).text(r.getMonth()+1+"/"+r.getDate()+" - "+(a.getMonth()+1)+"/"+a.getDate())};return(0,r.useEffect)((function(){var e=c.Ys(o.current).append("svg").attr("width",760).attr("height",100).append("g").attr("transform","translate(80, 50)").attr("id","slider");e.insert("g").selectAll("text").data(d).enter().append("text").attr("x",(function(e){var t=e.d;return u(t)})).attr("y",30).attr("text-anchor","middle").text((function(e){var t=e.d;return l[t.getMonth()]})),e.append("text").attr("x",u(u.invert(600))).attr("y",30).text("2020"),e.append("text").attr("id","weekLabel").attr("x",-75).attr("y",0).text("Week"),e.append("text").attr("x",-55).attr("y",15).attr("id","weekCounter").text("0/52").attr("text-anchor","middle");e.insert("circle").attr("id","handle").attr("r",9),e.append("text").attr("id","label").attr("text-anchor","middle").attr("transform","translate(0,-20)");e.append("line").attr("stroke","black").attr("stroke-width","10px").attr("stroke-opacity",.3).attr("stroke-linecap","round").attr("x1",u.range()[0]).attr("x2",u.range()[1]).select((function(){return this.parentNode.appendChild(this.cloneNode(!0))})).attr("stroke-width","100px").attr("stroke","transparent").call(c.ohM().on("start.interrupt",(function(){return e.interrupt()})).on("start drag",(function(e){a(!1),p(u.invert(e.x))})))}),[]),(0,r.useEffect)((function(){p(t),c.Ys(o.current).select("#weekCounter").text(t+1+"/52")}),[t]),(0,r.useEffect)((function(){c.Ys(o.current).select("#weekCounter").style("fill-opacity",i?1:0),c.Ys(o.current).select("#weekLabel").style("fill-opacity",i?1:0)}),[i]),r.createElement(D,{ref:o})},z=a.ZP.svg.withConfig({displayName:"sliderWithEvents__Slider",componentId:"sc-19upptj-0"})(["width:760px;height:150px;"]),F=function(e){return new Date(e+" PST")},L=function(e,t){return new Date(e.getTime()+864e5*t)},B=function(e){var t=e.week,n=e.setWeek,a=e.setPlaying,i=e.events,l=e.showWeekNumber,o=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],s=(0,r.useContext)(T.W).map((function(e){return F(e)})),d=(0,V.Z)(Array(365).keys()).map((function(e){return{d:L(s[0],e),i:e}})).filter((function(e){return 1===e.d.getDate()})),u=(0,r.useRef)(null),p=c.Xf().domain([s[0],s[s.length-1]]).range([0,600]).clamp(!0),m=function(e){var t;e instanceof Date?(t=(0,V.Z)(Array(s.length).keys()).find((function(t){return s[t]>e||t===s.length-1||s[t]>=e&&0===t})),n(t)):t=e;var r=s[t],a=t+1<s.length?L(s[t+1],-1):F("2020-12-27");c.Ys(u.current).select("#handle").attr("cx",p(r)),c.Ys(u.current).select("#label").attr("x",p(r)).text(r.getMonth()+1+"/"+r.getDate()+" - "+(a.getMonth()+1)+"/"+a.getDate())};return(0,r.useEffect)((function(){var e=c.Ys(u.current).append("svg").attr("width",760).attr("height",150).append("g").attr("transform","translate(80, 100)").attr("id","slider");e.insert("g").selectAll("text").data(d).enter().append("text").attr("x",(function(e){var t=e.d;return p(t)})).attr("y",30).attr("text-anchor","middle").text((function(e){var t=e.d;return o[t.getMonth()]})),e.append("g").attr("id","eventTitles"),e.append("g").attr("id","eventConnectors"),e.append("text").attr("x",p(p.invert(600))).attr("y",30).text("2020"),e.append("text").attr("id","weekLabel").attr("x",-75).attr("y",0).text("Week"),e.append("text").attr("x",-55).attr("y",15).attr("id","weekCounter").text("0/52").attr("text-anchor","middle");e.insert("circle").attr("id","handle").attr("r",9),e.append("text").attr("id","label").attr("text-anchor","middle").attr("transform","translate(0,-20)"),e.append("rect").attr("id","labelBackground");e.append("line").attr("stroke","black").attr("stroke-width","10px").attr("stroke-opacity",.3).attr("stroke-linecap","round").attr("x1",p.range()[0]).attr("x2",p.range()[1]).select((function(){return this.parentNode.appendChild(this.cloneNode(!0))})).attr("stroke-width","100px").attr("stroke","transparent").call(c.ohM().on("start.interrupt",(function(){return e.interrupt()})).on("start drag",(function(e){a(!1),m(p.invert(e.x))})))}),[]),(0,r.useEffect)((function(){c.Ys(u.current).select("#eventTitles").selectAll("text").remove(),c.Ys(u.current).select("#eventConnectors").selectAll("line").remove(),i.forEach((function(e){var n=e.date,r=e.lab;c.Ys(u.current).select("#eventTitles").append("text").attr("fill-opacity",F(n)<s[t]?1:.2).attr("x",p(F(n))).attr("y",-50).attr("text-anchor","middle").text(r),c.Ys(u.current).select("#eventConnectors").append("line").attr("stroke","black").attr("stroke-width","1px").attr("stroke-opacity",F(n)<s[t]?L(F(n),21)<s[t]?1:.3:.2).attr("x1",p(F(n))).attr("x2",p(F(n))).attr("y1",-15).attr("y2",-40)}))}),[t]),(0,r.useEffect)((function(){m(t),c.Ys(u.current).select("#weekCounter").text(t+1+"/52")}),[t]),(0,r.useEffect)((function(){c.Ys(u.current).select("#weekCounter").style("fill-opacity",l?1:0),c.Ys(u.current).select("#weekLabel").style("fill-opacity",l?1:0)}),[l]),r.createElement(z,{ref:u})},R=a.ZP.div.withConfig({displayName:"mobileDisplay__TextArea",componentId:"g1084l-0"})(["display:flex;width:100%;flex-direction:column;align-items:center;margin:5px 0;"]),H=a.ZP.p.withConfig({displayName:"mobileDisplay__Text",componentId:"g1084l-1"})(["margin:5px 0;"]),J=function(e){return new Date(e+" PST")};function q(e){var t,n,a=e.week,i=e.showWeekNumber,l=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],o=(0,r.useContext)(T.W).map((function(e){return J(e)})),c=o[a],s=a+1<o.length?(t=o[a+1],n=-1,new Date(t.getTime()+864e5*n)):J("2020-12-27");return r.createElement(R,null,i?r.createElement(H,null,"Week ",a+1,"/52"):null,null!==c?r.createElement(H,null,l[c.getMonth()]," ",c.getDate()," -"," ",l[s.getMonth()]," ",s.getDate()," "):null)}var G=a.ZP.div.withConfig({displayName:"timeline__Container",componentId:"sc-188udpi-0"})(["width:",";height:","px;"],(function(e){return e.width}),(function(e){return e.height})),U=function(e){var t=e.week,n=e.setWeek,a=e.playing,i=e.setPlaying,l=e.showWeekNumber,o=e.showEvents,c=e.mobileMode,s=[{date:"2020-03-13",lab:"National Emergency"},{date:"2020-05-28",lab:"100k Deaths"}];return r.createElement(G,{width:c?"100%":"760px",height:c?115:o?200:150},c?r.createElement(q,{week:t,showWeekNumber:l}):o?r.createElement(B,{week:t,setWeek:n,setPlaying:i,showWeekNumber:l,events:s}):r.createElement(Y,{week:t,setWeek:n,setPlaying:i,showWeekNumber:l,events:s}),r.createElement(j,{week:t,setWeek:n,playing:a,setPlaying:i}))},X=a.ZP.div.withConfig({displayName:"timelinelegend__Container",componentId:"sc-6spnt5-0"})(["display:flex;width:100%;justify-content:flex-end;"]);function K(e){e.week;var t=(0,r.useRef)(null),n=60,a=[20,20];return(0,r.useEffect)((function(){c.Ys(t.current).selectAll("*").remove();var e=c.Ys(t.current).style("width",370).style("height",75).append("g").attr("transform","translate("+(30+a[0])+",0)"),r=c.BYU().domain([1,52]).range([0,370-2*a[0]-30]),i=c.BYU().domain([0,2]).range([n-a[1],0]),l=(0,V.Z)(Array(104).keys()).map((function(e){return{w:Math.floor(e/2),c:e%2}}));e.append("g").attr("transform","translate(0,"+(a[1]+25)+")").call(c.LLu(r).ticks(5)).style("display","none"),e.append("g").attr("transform","translate(0,0)").call(c.y4O(i)).style("display","none"),e.selectAll("rect").remove().data(l).enter().append("rect").attr("class","point").attr("x",(function(e){var t=e.w;return r(t)})).attr("y",(function(e){var t=e.c;return i(t)-5})).attr("width",8).attr("height",15).attr("stroke",(function(e){return 1===e.c?"#fa5a50":"#5768ac"})).attr("stroke-opacity",(function(e){return e.w/52})).attr("stroke-width",0).attr("fill",(function(e){return 1===e.c?"#fa5a50":"#5768ac"})).attr("fill-opacity",(function(e){return e.w/52})),e.append("text").attr("text-anchor","middle").attr("x",r(1)).attr("y",n+a[1]/2).text("Past"),e.append("text").attr("text-anchor","middle").attr("x",r(50)).attr("y",n+a[1]/2).text("Recent"),e.append("text").attr("text-anchor","end").attr("x",-15).attr("y",20+a[1]/4).text("Hot"),e.append("text").attr("text-anchor","end").attr("x",-15).attr("y",40+a[1]/4).text("Cold")}),[]),r.createElement(X,null,r.createElement("svg",{ref:t}))}var Q=a.ZP.div.withConfig({displayName:"mapView2__ControlArea",componentId:"sc-1n3pnkf-0"})(["display:flex;width:100%;justify-content:space-between;flex-wrap:wrap;"]),$=a.ZP.div.withConfig({displayName:"mapView2__ControlsContainer",componentId:"sc-1n3pnkf-1"})(["display:flex;flex-direction:column;justify-content:space-between;align-items:center;margin:0 15px;@media (max-width:762px){justify-content:center;width:100%;}"]),ee=a.ZP.p.withConfig({displayName:"mapView2__ColdLegend",componentId:"sc-1n3pnkf-2"})(["background-color:#5768acaa;"]),te=a.ZP.p.withConfig({displayName:"mapView2__HotLegend",componentId:"sc-1n3pnkf-3"})(["background-color:#fa5a50aa;"]),ne=a.ZP.div.withConfig({displayName:"mapView2__Legend",componentId:"sc-1n3pnkf-4"})(["display:flex;align-items:center;justify-content:center;& > *{margin:5px;padding:5px;}"]),re=a.ZP.div.withConfig({displayName:"mapView2__LegendContainer",componentId:"sc-1n3pnkf-5"})(["width:100%;display:flex;justify-content:flex-end;@media (max-width:762px){justify-content:center;}"]),ae=a.ZP.div.withConfig({displayName:"mapView2__Container",componentId:"sc-1n3pnkf-6"})(["display:flex;flex-direction:column;align-items:center;"]),ie=a.ZP.div.withConfig({displayName:"mapView2__TextContainer",componentId:"sc-1n3pnkf-7"})(["display:flex;flex-direction:column;justify-content:flex-start;max-width:500px;& > h1{margin:5px 15px 0 15px;}"]),le=a.ZP.p.withConfig({displayName:"mapView2__Text",componentId:"sc-1n3pnkf-8"})(["margin:5px 15px;"]),oe=a.ZP.hr.withConfig({displayName:"mapView2__Divider",componentId:"sc-1n3pnkf-9"})(["width:98%;height:1px;background-color:black;border-radius:1px;margin:5px 10px;"]),ce=a.ZP.div.withConfig({displayName:"mapView2__MapContainer",componentId:"sc-1n3pnkf-10"})(["display:flex;flex-direction:row;justify-content:center;width:100%;flex-wrap:wrap;@media (max-width:770px){flex-wrap:wrap;}"]),se=a.ZP.button.withConfig({displayName:"mapView2__Button",componentId:"sc-1n3pnkf-11"})(["border-radius:10px;height:30px;width:60px;"]),de=a.ZP.div.withConfig({displayName:"mapView2__CheckBox",componentId:"sc-1n3pnkf-12"})(["display:flex;flex-direction:row;flex-wrap:nowrap;width:180px;"]),ue=a.ZP.div.withConfig({displayName:"mapView2__Row",componentId:"sc-1n3pnkf-13"})(["margin:0 3px;"]),pe=a.ZP.h3.withConfig({displayName:"mapView2__Title",componentId:"sc-1n3pnkf-14"})(["margin:3px 15px;white-space:nowrap;"]);function me(e){var t=e.selectedCounty,n=e.setSelectedCounty,a=e.MapSettings,i=e.time,c=(e.setTime,e.week),s=e.setWeek,d=e.selectedState,u=e.setSelectedState,p=e.width,m=(0,r.useState)(!1),h=m[0],g=m[1],w=(0,r.useContext)(l.z),x=w.mapData,y=w.mapTitles,v=(0,r.useState)(!1),b=v[0],k=v[1],E=(0,r.useState)(Array(4)),C=E[0],_=E[1],N=(0,r.useState)(!1),S=N[0],P=N[1],I=(0,r.useState)(!1),Z=I[0],A=I[1],M=function(e,t){var n,r=e[0],a=e[1];return void 0===t&&(t=!1),C.forEach((function(e){t||r===e.currId||-1===r?(e.reset(),n=!1):(e.select(r),n=!0)})),n?(u([r,a]),!0):(u([-1,""]),!1)};return(0,r.useEffect)((function(){if(b){var e=setInterval((function(){c<51&&s(c+1)}),500);return function(){return clearInterval(e)}}}),[b,c]),r.createElement(ae,null,r.createElement(Q,null,r.createElement(ie,null,r.createElement(le,null,"Selecting the cumulative option also includes past values. This view shows the the last time a county was a hot or cold spot by making more distant times a lighter color."),-1===d[0]?r.createElement(le,null,"Click on a state to zoom into that state."):r.createElement(pe,null,"Selected State: ",d[1])),r.createElement($,null,r.createElement(de,null,r.createElement("form",null,r.createElement(ue,null,r.createElement("input",{type:"checkbox",id:"Cumulative",onChange:function(){return g(!h)},checked:h}),r.createElement("label",{htmlFor:"Cumulative"},"Cumulative Map")),r.createElement(ue,null,r.createElement("input",{type:"checkbox",id:"ShowWeek",onChange:function(){return P(!S)},checked:S}),r.createElement("label",{htmlFor:"ShowWeek"},"Show Week Number")),r.createElement(ue,null,r.createElement("input",{type:"checkbox",id:"ShowEvents",onChange:function(){return A(!Z)},checked:Z}),r.createElement("label",{htmlFor:"ShowEvents"},"Timeline Events")))),r.createElement(se,{onClick:function(){M([-1,""]),s(0),g(!1),k(!1),P(!1),A(!1)}},"Reset"))),r.createElement(oe,null),h?r.createElement(K,{week:c}):r.createElement(re,null,r.createElement(ne,null,r.createElement(te,null,"Hot Spot"),r.createElement(ee,null,"Cold Spot"))),r.createElement(o.o,null,r.createElement(ce,null,y.map((function(e,l){return r.createElement(f,{key:l,title:e,highlightedCounty:t,countySelector:n,selectedState:d,stateSelector:M,addState:function(e){return function(e,t){C[t]=e,_(C)}(e,l)},time:i,data:x?x[l]:null,weekNum:c,MapSettings:a,past:h},null)})))),r.createElement(U,{week:c,setWeek:s,playing:b,setPlaying:k,showWeekNumber:S,showEvents:Z,mobileMode:p<=750}),r.createElement(oe,null))}var he=n(5444),fe=a.ZP.div.withConfig({displayName:"table__OutsideContainer",componentId:"b45yk0-0"})(["height:100%;width:100%;display:flex;align-items:center;flex-direction:column;"]),ge=a.ZP.div.withConfig({displayName:"table__Container",componentId:"b45yk0-1"})(["display:block;height:100%;overflow-x:auto;width:800px;@media (max-width:800px){width:100%;}"]),we=a.ZP.table.withConfig({displayName:"table__MainTable",componentId:"b45yk0-2"})(["border-collapse:collapse;width:100%;"]),xe=a.ZP.thead.withConfig({displayName:"table__THead",componentId:"b45yk0-3"})([""]),ye=a.ZP.th.withConfig({displayName:"table__THGroup",componentId:"b45yk0-4"})(["text-align:center;",""],(function(e){return e.underLine?"border-bottom: 1px solid black; border-left: 20px solid white; border-right: 20px solid white;":null})),ve=a.ZP.th.withConfig({displayName:"table__TH",componentId:"b45yk0-5"})(["min-width:100px !important;text-align:center;border-bottom:1px solid black;"]),be=a.ZP.td.withConfig({displayName:"table__TData",componentId:"b45yk0-6"})(["background-color:",";padding:0;margin:0;"],(function(e){var t=e.highlight;return"hot"===t?"#fa5a50AA":"cold"===t?"#5768acAA":"#FFFFFF00"})),ke=a.ZP.tr.withConfig({displayName:"table__TRow",componentId:"b45yk0-7"})([""]),Ee=a.ZP.tbody.withConfig({displayName:"table__TBody",componentId:"b45yk0-8"})([""," > *:nth-child(2n+1){width:10px;padding:2px;}"," > *{text-align:right;}& > ",":hover{background-color:#d3d3d3;}"," > *:nth-child(2n){width:100px;}"," > *:nth-child(1){width:130px;text-align:left;border-right:1px solid black;}"," > *:nth-child(3){}"," > *:nth-child(7){}"," > *:nth-child(5){border-right:1px solid black;}","{border-bottom:1px solid rgb(205,205,205);}",":last-child{border-bottom:1px solid black;}"],ke,ke,ke,ke,ke,ke,ke,ke,ke,ke),Ce=a.ZP.p.withConfig({displayName:"table__ColdLegend",componentId:"b45yk0-9"})(["background-color:#5768acaa;"]),_e=a.ZP.p.withConfig({displayName:"table__HotLegend",componentId:"b45yk0-10"})(["background-color:#fa5a50aa;"]),Ne=a.ZP.div.withConfig({displayName:"table__LegendContainer",componentId:"b45yk0-11"})(["display:flex;width:800px;margin:5px 0;@media (max-width:800px){width:100%;}justify-content:space-between;"]),Se=a.ZP.div.withConfig({displayName:"table__Legend",componentId:"b45yk0-12"})(["display:flex;align-items:flex-start;& > *{margin:5px;padding:5px;}"]),Pe=a.ZP.p.withConfig({displayName:"table__LegendAsterisk",componentId:"b45yk0-13"})(["margin:5px;"]);function Ie(e){var t=e.selectedState,n=e.week,a=(0,r.useContext)(l.z),i=a.mapData;a.mapTitles;return r.createElement(fe,null,r.createElement(ge,null,r.createElement(we,null,r.createElement(xe,null,r.createElement(ke,null,r.createElement(ye,{underLine:!1},"Counties of"),r.createElement(ye,{colSpan:4,underLine:!0},"Mobility"),r.createElement(ye,{colSpan:4,underLine:!0},"Sheltered")),r.createElement(ke,null,r.createElement(ve,null,t[1]),r.createElement(ve,{colSpan:2},"Cuebiq*"),r.createElement(ve,{colSpan:2},"SafeGraph"),r.createElement(ve,{colSpan:2},"Cuebiq"),r.createElement(ve,{colSpan:2},"SafeGraph"))),r.createElement(Ee,null,r.createElement(he.i1,{query:"2834450407",render:function(e){return e.allRawCsv.nodes.filter((function(e){return Number(e.week)-1===n&&(r=e.fips,Number(String(r).slice(0,-3))===t[0]);var r})).map((function(e,t){var a=e.fips,l=e.cm,o=e.cs,c=e.sm,s=e.ss,u=i[0].find((function(e){return e.fips===Number(a)})),p=void 0!==u?u.get(n):0,m=i[1].find((function(e){return e.fips===Number(a)})),h=void 0!==m?m.get(n):0,f=i[2].find((function(e){return e.fips===Number(a)})),g=void 0!==f?f.get(n):0,w=i[3].find((function(e){return e.fips===Number(a)})),x=void 0!==w?w.get(n):0;return r.createElement(ke,{key:a},r.createElement(be,{highlight:"none"},d.objects.counties.geometries.find((function(e){var t=e.id;return Number(t)===Number(a)})).properties.name),r.createElement(r.Fragment,null,r.createElement(be,{highlight:1===p?"hot":2===p?"cold":"none"},l),r.createElement(be,{highlight:1===p?"hot":2===p?"cold":"none"})),r.createElement(r.Fragment,null,r.createElement(be,{highlight:1===g?"hot":2===g?"cold":"none"},Number(c)/1e3),r.createElement(be,{highlight:1===g?"hot":2===g?"cold":"none"},0===t?"km":"")),r.createElement(r.Fragment,null,r.createElement(be,{highlight:1===h?"hot":2===h?"cold":"none"},o),r.createElement(be,{highlight:1===h?"hot":2===h?"cold":"none"},0===t?"%":"")),r.createElement(r.Fragment,null,r.createElement(be,{highlight:1===x?"hot":2===x?"cold":"none"},s),r.createElement(be,{highlight:1===x?"hot":2===x?"cold":"none"},0===t?"%":"")))}))}})))),r.createElement(Ne,null,r.createElement(Pe,null,"* Cuebiq mobility value is an index."),r.createElement(Se,null,r.createElement(_e,null,"Hot Spot"),r.createElement(Ce,null,"Cold Spot"))))}var Ze=a.ZP.div.withConfig({displayName:"animated__Container",componentId:"sc-13u7wpn-0"})(["width:100%;display:flex;align-items:center;flex-direction:column;"]),Ae=a.ZP.div.withConfig({displayName:"animated__TextContainer",componentId:"sc-13u7wpn-1"})(["display:flex;flex-direction:column;justify-content:start;width:100%;& > h1{margin:10px 15px 0 15px;}"]),Me=a.ZP.hr.withConfig({displayName:"animated__Divider",componentId:"sc-13u7wpn-2"})(["width:98%;height:1px;background-color:black;border-radius:1px;margin:5px 10px;"]),je=a.ZP.p.withConfig({displayName:"animated__Text",componentId:"sc-13u7wpn-3"})(["margin:5px 15px;"]),Ve={width:370,height:250,translate:[185,125],scale:500},Te=function(){var e=(0,r.useState)([-1,""]),t=e[0],n=e[1],a=(0,r.useState)([0,52]),l=a[0],o=a[1],c=(0,r.useState)(0),s=c[0],d=c[1],u=(0,r.useState)([-1,""]),p=u[0],m=u[1],h=(0,r.useRef)(null),f=(0,r.useState)(0),g=f[0],w=f[1];return(0,r.useEffect)((function(){var e=h.current.getBoundingClientRect().width;w(e)}),[]),r.createElement(i.Z,{selectedPage:"Animation"},r.createElement(Ze,{ref:h},r.createElement(Ae,null,r.createElement("h1",null,"Animated Spatial Clustering"),r.createElement(je,null,"These maps show which counties were hot spots (colored red) and cold spots (colored blue) during the specified week on the timeline below.")),r.createElement(Me,null),r.createElement(me,{MapSettings:Ve,selectedCounty:t,setSelectedCounty:n,time:l,setTime:o,week:s,setWeek:d,selectedState:p,setSelectedState:m,width:g}),-1!==p[0]?r.createElement(r.Fragment,null,r.createElement(Ie,{selectedState:p,week:s})):r.createElement(Ae,null,r.createElement(je,null,"Click on a state on one of the maps above in order to see individual county values."))))}},8928:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(3051),a=function(){function e(e,t,n,a,i){this.active=r.Ys(null),this.path=null,this.g=null,this.width=0,this.height=0,this.currId=-1,this.path=e,this.g=t,this.width=n,this.height=a,this.currId=i}var t=e.prototype;return t.select=function(e){var t;this.currId=e,this.g.select("[stateFips='"+e+"']").attr("x",(function(e,n){t=e}));var n=this.path.bounds(t),r=n[0],a=r[0],i=r[1],l=n[1],o=l[0],c=l[1],s=o-a,d=c-i,u=(a+o)/2,p=(i+c)/2,m=.8/Math.max(s/this.width,d/this.height),h=[this.width/2-m*u,this.height/2-m*p];return this.g.transition().duration(650).attr("transform","translate("+h+") scale("+m+")"),m},t.clicked=function(e,t){var n=e.getAttribute("id");if(this.active.node()===e)return this.reset();this.active.classed("active",!1),this.active=r.Ys(e).classed("active",!0);var a=this.path.bounds(t),i=a[0],l=i[0],o=i[1],c=a[1],s=c[0],d=c[1],u=s-l,p=d-o,m=(l+s)/2,h=(o+d)/2,f=.7/Math.max(u/this.width,p/this.height),g=[this.width/2-f*m,this.height/2-f*h];return this.g.transition().duration(650).attr("transform","translate("+g+") scale("+f+")"),n},t.reset=function(){this.currId="",this.active.classed("active",!1),this.active=r.Ys(null),this.g.transition().duration(500).attr("transform","translate(0)")},e}()}}]);
//# sourceMappingURL=component---src-pages-animated-tsx-8d6a8d99b1825522992c.js.map